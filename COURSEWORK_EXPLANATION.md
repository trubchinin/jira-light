# Проектування та програмна реалізація класів інтерфейсу користувача

## 4.1. Структура UI модуля

Інтерфейс користувача реалізовано у модулі `jiralite-ui`, який організовано відповідно до принципів чистої архітектури та патерну MVC (Model-View-Controller).

### Структура пакетів UI модуля:

```
jiralite-ui/
├── src/main/java/ua/oip/jiralite/ui/
│   ├── Launcher.java              # Точка входу в програму
│   ├── frame/                     # Вікна програми
│   │   ├── LoginFrame.java        # Вікно авторизації
│   │   ├── MainFrame.java         # Головне вікно з Kanban-дошкою
│   │   └── IssueDialog.java       # Діалог створення/редагування задачі
│   ├── panel/                     # Панелі компонентів
│   │   ├── ProjectTreePanel.java  # Дерево проектів
│   │   ├── BoardColumnPanel.java  # Колонка Kanban-дошки
│   │   └── IssueCardPanel.java    # Картка задачі
│   ├── model/                     # Моделі даних для UI
│   │   └── IssueCardModel.java    # Модель картки задачі
│   ├── listener/                  # Обробники подій
│   │   ├── LoginAction.java       # Обробник авторизації
│   │   ├── IssueCardMouseAdapter.java  # Обробник drag-n-drop
│   │   └── ColumnDropTarget.java       # Цільова зона drop
│   └── util/                      # Утилітні класи
│       ├── SwingHelper.java       # Допоміжні методи для Swing
│       └── UiConstants.java       # Константи інтерфейсу
└── src/main/resources/
    ├── i18n/                      # Файли локалізації
    │   ├── labels.properties      # Базові ресурси (за замовчуванням)
    │   ├── labels_en.properties   # Англійська локалізація
    │   └── labels_uk.properties   # Українська локалізація
    └── icons/                     # Іконки та зображення
```

## 4.2. Основні компоненти інтерфейсу

### Вікна (Frames)

1. **LoginFrame** - вікно авторизації

    - Відповідає за введення імені користувача та пароля
    - Виконує аутентифікацію через AuthService
    - При успішній авторизації створює MainFrame

2. **MainFrame** - головне вікно програми

    - Відображає Kanban-дошку з колонками статусів
    - Містить дерево проектів зліва
    - Реалізує головне меню
    - Підтримує функціональність Drag & Drop для карток задач

3. **IssueDialog** - модальний діалог для роботи з задачею
    - Використовується для створення нової задачі
    - Також використовується для редагування існуючої задачі
    - Надає доступ до всіх полів задачі

### Панелі (Panels)

1. **ProjectTreePanel** - відображає деревовидну структуру проектів та дошок

    - Використовує JTree для ієрархічного відображення
    - Реалізує обробку вибору елементів з оповіщенням MainFrame через інтерфейс ProjectSelectionListener

2. **BoardColumnPanel** - представляє колонку на Kanban-дошці

    - Відповідає за відображення карток задач відповідного статусу
    - Реалізує функціональність DropTarget для приймання перетягуваних карток

3. **IssueCardPanel** - відображає картку задачі в колонці
    - Візуалізує основну інформацію про задачу (заголовок, пріоритет, виконавець)
    - Підтримує перетягування (Draggable)

### Обробники подій (Listeners)

1. **LoginAction** - обробляє натискання кнопки "Увійти"

    - Перевіряє введені дані та викликає метод авторизації з AuthService

2. **IssueCardMouseAdapter** - забезпечує функціональність Drag

    - Обробляє події миші для початку перетягування картки

3. **ColumnDropTarget** - забезпечує функціональність Drop
    - Приймає перетягувані картки та оновлює статус задачі

### Утилітні класи (Utils)

1. **SwingHelper** - містить допоміжні методи для роботи з Swing

    - Спрощені методи для створення та відображення діалогів
    - Методи для роботи з компонентами інтерфейсу

2. **UiConstants** - зберігає константи для уніфікації інтерфейсу
    - Розміри компонентів
    - Відступи
    - Кольори та шрифти

## 4.3. Реалізація патернів проектування

У розробці інтерфейсу користувача застосовано такі патерни проектування:

1. **MVC (Model-View-Controller)**

    - Model: IssueCardModel та доменні об'єкти
    - View: Компоненти Swing (фрейми, панелі, діалоги)
    - Controller: Обробники подій та сервіси

2. **Observer (Спостерігач)**

    - ProjectTreePanel повідомляє MainFrame про вибір проекту/дошки через інтерфейс ProjectSelectionListener

3. **Façade (Фасад)**

    - Сервісні класи (AuthService, BoardService) надають спрощений інтерфейс до складної бізнес-логіки

4. **Singleton (Одинак)**

    - Сервіси реалізовані як одинаки для забезпечення єдиної точки доступу

5. **Strategy (Стратегія)**
    - Різні обробники подій для різних компонентів

## 4.4. Локалізація інтерфейсу

Проект підтримує багатомовний інтерфейс через механізм ResourceBundle:

-   Основні ресурси визначені у файлах properties
-   Підтримуються українська та англійська мови
-   Всі рядки інтерфейсу винесені у файли локалізації

## 4.5. Взаємодія з сервісним шаром

Класи інтерфейсу користувача взаємодіють з бізнес-логікою через сервіси:

-   **AuthService** - для авторизації користувачів
-   **BoardService** - для роботи з дошками та задачами
-   **IssueService** - для управління задачами

Взаємодія відбувається за принципом інверсії залежностей: інтерфейс залежить від абстракцій (інтерфейсів сервісів), а не від конкретних реалізацій.

## 4.6. Висновки

Розроблений інтерфейс користувача дозволяє ефективно працювати з системою управління задачами:

1. **Зручність використання** - інтерфейс інтуїтивно зрозумілий та відповідає сучасним вимогам до UX
2. **Модульність** - компоненти можна легко замінювати та розширювати
3. **Розширюваність** - архітектура дозволяє додавати нові функції без зміни існуючого коду
4. **Підтримуваність** - чітка структура та дотримання патернів проектування спрощують підтримку
5. **Локалізація** - повна підтримка багатомовності
